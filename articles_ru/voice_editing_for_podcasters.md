
## Voice Editing for Podcasters and not only

### INTRO
Довольно часто слушая подкасты я замечаю недостатки процесса работы со звуком прежде чем он выйдет в эфир. Понятно что не все гуру звукотехники и каждый записывает как может и как умеет. Данная статья написана как попытка помочь людям слабо знакомым с теорией акустики, саунд дизайном и другими страшными словами. Возможно я не гугу звука, но у меня есть некоторый опыт которым я с вами и хочу поделится. 
Статья рассчитана на широкий круг читателей, а посему я не буду вдаваться в дремучие дебри саунд дизайна и обработки аудио. Не существует абсолютно правильного метода редактирования звука. По многим причинам. Многое зависит от того как был записан звук, как говорит диктор etc. Это ещё одна причина по которой я не использовал много специй для приготовления этого рассказа :) Думаю, будет правильным использовать его как подсказки для того чтоб понять что можно сделать со своей аудио записью и как исправить ошибки если таковые имеются.
Замечу что данная статья построена на примерах *Audacity Version 1.3.13* так что если вы используете другую версию, то рекомендую вам обновится. В последней версии улучшены алгоритмы фильстрации шума, и добавлено ряд других полезных возможностей.

### RECORDING
Как правило у рядового подкастера в распоряжении стандартный микрофон гарнитуры или встроенный в компьютер. Такие микрофоны обладают достаточной чувствительностью для общения голосом через компьютер. Но могут вносить довольно ощутимые искажения, ловить наводки и шумы. Лучше не вести запись используя радио гарнитуру. Как правило в этих гарнитурах стоит gate фильтр который отсекает сигнал если тот падает ниже определённого уровня. Из-за этого могут теряться важные детали звука.
Если вы пишете подкаст на компьютер, то рекомендую в настройках программы записи указать максимальные параметры записи. Тогда все операции по обработке звука будут проходить с большей точностью. И конечный результат будет лучше. Никто не запрещает записывать на диктофон или на телефон, но тогда в этих девайсах нужно не забыть также выставить максимальное качество записи.
Желательно не говорить прямо в микрофон, иначе дыхание будет очень хорошо слышно. В моей практике я часто сталкивался с обработкой звука с диктофона который лежал на столе во время интервью. И казалось бы такие простые вещи как положить ручку или руки на стол, создают очень громкий посторонний шум. Так как микрофон внутри телефона контактирует с поверхностью стола напрямую, а он очень чувствительный, то такие колебания становятся очень ощутимыми. Их нужно удалять из записи или приглушать. А ещё лучше записывать так чтоб их в записи не было.

> Лучший способ обработки шума — это вообще его не записывать. (с) Джей Роуз


### EDITING
При редактировании удобно пользоваться следующим принципом — не навредить.
Перед тем как делать речь более разборчивой, трек нужно очистить от шума и посторонних звуков. Да, я наверно сейчас банальную вещь скажу, но не старайтесь улучшить звук, нет такого закона природы как «хороший» или «плохой» звук, старайтесь исправить проблемы. Первое на что нужно обратить внимание, это на спонтанные пики. Их нужно удалять или приглушать. Иначе они будут мешать дальнейшей обработке, эм, слушать подкаст тоже будет мешать. Приглушать можно используя Amplify c отрицательным значением, например -5, это значение нужно подбирать по месту.

![спронтанные громкие звуки](https://raw.githubusercontent.com/kvantos/articles/master/pics/voice02.png)

Часто замечал такую вещь в записях как гул (hum), жужжание на заднем фоне. Такой монотонный раздражительный звук. Он может возникать по разным причинам. Например микрофон ловит корпусом работу вентилятора или другого подвижного механизма в компьютере. Или это просто банально наводки от цепей питания. Такой монотонный гул можно вырезать без особых последствий для записи. Чтоб понять на какой он частоте можно использовать анализатор спектра `Analyze --> Plot spectrum...`

[!диаграмма пиков](https://raw.githubusercontent.com/kvantos/articles/master/pics/voice03.png)

На рисунке который я привел в качестве иллюстрации  видно несколько явных пиков — на частотах 680Hz и 404Hz. При наведении мышкой плагин сам подсказывает где находится крайняя точка. После того как были найдены подозрительные частоты их нужно вырезать. Среди плагинов решающих такого рода задачи есть Notch Filter в который можно просто ввести частоту и Q (добротность). Но я нашел более интересный способ :) Запускаю Nyquist Prompt и ввожу там что-то типа:
```
(notch2 s 680 20)
```
680 это наша частота, обычно числа 20 (добротность фильтра) хватает в большинстве случаев

для стерео трека форма записи изменится на такую:
```
(vector (notch2 (aref s 0) 680 20) (notch2 (aref s 1) 680 20) )
```
После таких манипуляций оказалось что гул сидел как раз на частоте 680Hz. Можно ещё по прибивать парочку верхних гармоник от этой частоты. Чтоб особо не парится есть калькуляторы гармоник. Верхние гармоники душатся также, только с более высоким Q. Если они действительно мешают, то обычно бывает достаточно прибить 3-4 верхние гармоники. Остальное можно придушить при очистке фильтром *Noise Removal*.

Если есть заметное шипение, его можно почистить, но не пытайтесь его удалить полностью. Иначе голос будет звучать не натурально. Будет достаточно оттенить его, приглушить, сделать менее заметным. В Audacity есть замечательный плагин Noise Removal. Перед тем как пользоваться им, нужно выбрать область без голоса (без полезной информации, там где есть только шум) и выделить её. Этим мы показываем плагину что есть шум. Затем открыть плагин и нажать Get Noise Profile. Затем закрыть его и выделить весь трек. Потом снова открыть плагин и нажать OK. В плагине есть некоторые настройки, но если вы плохо понимаете для чего они нужны, лучше не трогать, плагин неплохо справляется и на дефолтных параметрах. Единственное что Noise reduction не желательно ставить слишком большим, если у вас много шума, вы от него избавится не сможете никак. Лучше несколько раз запустить плагин с низким (примерно 5dB) уровнем подавления. При этом каждый раз делая новую пробу шума. Шум можно частично придушить эквалайзером, а потом если запись стала гулкой попытаться «дорисовать» верхние гармоники при помощи harmonic enhancer. Но это всё индивидуально для каждого конкретного трека, и в общих чертах об этом сложно говорить.

Следующая манипуляция это компрессия. Когда вы пишете звук, то как правило вы не говорите ровно как диктор или робот (дикторы тоже не говорят абсолютно ровно). Уровень громкости вашей речи постоянно меняется. Отдельные слова чуть тише, другие чуть громче. Для того чтоб уровнять звуки разной громкости используется компрессия. В общем всё что нужно сделать это запустить плагин Compressor... особо трогать там ничего нет необходимости, пока вы не знаете как этим пользоваться. Дефолтных настроек хватает в большинстве случаев. Иногда бывает так что компрессор нужно запустить несколько раз.
Теперь осталось заюзать плагин Normalize... чтоб подогнать максимальный уровень поближе к 0dB и убрать DC смещение если таковое имеется. А такое иногда бывает на не совсем корректно работающих микрофонах/звуковых картах/диктофонах.

[!normalize](https://raw.githubusercontent.com/kvantos/articles/master/pics/voice04.png)

### OUTPUT
При желании конечно можно сохранить проект, или вывести запись в несжатый формат, это дело хозяйское. Но для дальнейшей публикации его нужно экспортировать `File --> Export...` Там же можно выбрать формат и настройки для него. Для голоса обычно достаточно mp3 128 Kbit/s.


Вот и всё :) Описание к каждому плагину есть на сайте Audacity. В общем то никто не запрещает использовать другие программные средства, все изложенные принципы довольно универсальны. У меня имеются и другие дорогие программы, но Audacity бесплатное кроссплатформенное приложение и это очень привлекательно. Если вам интересны детали, то не стесняйтесь спрашивать или спросите у Google он знает всё :) или почти всё :)

PS: Сеньк Славе Панкратову за то что сподвиг меня на написание этого мануала :)

